<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For You ‚ù§Ô∏è</title>

<style>
body{
  margin:0;
  height:100vh;
  font-family:'Segoe UI',sans-serif;
  background:linear-gradient(to bottom right,#ffd6e8,#fff0f5);
  display:flex;
  justify-content:center;
  align-items:center;
  overflow:hidden;
}

.flowers{
  position:absolute;
  inset:0;
  background-image:radial-gradient(#ffb6c1 2px,transparent 2px);
  background-size:40px 40px;
  opacity:.4;
}

.card{
  position:relative;
  z-index:2;
  background:white;
  padding:50px 60px;
  border-radius:24px;
  text-align:center;
  box-shadow:0 30px 60px rgba(0,0,0,.18);
  max-width:500px;
}

h1{
  color:#e91e63;
  font-size:36px;
}

.question{
  font-size:30px;
  font-weight:600;
  color:#444;
  margin-top:10px;
}

.buttons{
  margin-top:35px;
  height:120px;
  position:relative;
}

button{
  position:absolute;
  padding:14px 36px;
  font-size:20px;
  border:none;
  border-radius:40px;
  cursor:pointer;
}

#yes{
  background:#e91e63;
  color:white;
  left:50%;
  transform:translateX(-130%);
}

#no{
  background:#ccc;
  left:50%;
  transform:translateX(30%);
}

#msg{
  margin-top:25px;
  font-weight:bold;
  color:#d81b60;
  min-height:24px;
}

#final{
  display:none;
  margin-top:30px;
  font-size:24px;
  color:#e91e63;
  animation:fadeIn 2s ease forwards;
}

@keyframes fadeIn{
  from{opacity:0;transform:translateY(10px)}
  to{opacity:1;transform:translateY(0)}
}

canvas{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:5;
}
</style>
</head>

<body>

<div class="flowers"></div>

<div class="card">
  <h1>SHEETU üíñ</h1>
  <div class="question">Will you be my Valentine? üå∏</div>

  <div class="buttons">
    <button id="yes">Yes üíï</button>
    <button id="no">No üôÉ</button>
  </div>

  <div id="msg"></div>

  <div id="final">
    Every version of my future‚Ä¶<br>
    has you in it. üíû
  </div>
</div>

<canvas id="fireworks"></canvas>

<script>
/* =======================
   üé∂ GENERATED SOUND
   ======================= */
let audioCtx, bgOsc, bgGain;
let started = false;

function startMusic(){
  audioCtx = new (window.AudioContext || window.webkitAudioContext)();

  bgOsc = audioCtx.createOscillator();
  bgGain = audioCtx.createGain();

  bgOsc.type = "sine";
  bgOsc.frequency.value = 220;
  bgGain.gain.value = 0;

  bgOsc.connect(bgGain);
  bgGain.connect(audioCtx.destination);
  bgOsc.start();

  let v = 0;
  const fade = setInterval(()=>{
    v += 0.0015;
    bgGain.gain.value = v;
    if(v >= 0.04) clearInterval(fade);
  },100);
}

function firecrackerSound(){
  if(!audioCtx) return;

  const osc = audioCtx.createOscillator();
  const gain = audioCtx.createGain();

  osc.type = "triangle";
  osc.frequency.setValueAtTime(140, audioCtx.currentTime);
  osc.frequency.exponentialRampToValueAtTime(40, audioCtx.currentTime + 0.3);

  gain.gain.setValueAtTime(0.5, audioCtx.currentTime);
  gain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + 0.3);

  osc.connect(gain);
  gain.connect(audioCtx.destination);
  osc.start();
  osc.stop(audioCtx.currentTime + 0.3);
}

/* =======================
   üíï BUTTON LOGIC
   ======================= */
const noBtn = document.getElementById("no");
const yesBtn = document.getElementById("yes");
const msg = document.getElementById("msg");
const final = document.getElementById("final");

const texts=[
  "Are you sure? ü§®",
  "Really sure? ü•∫",
  "Nah‚Ä¶ not happening üòå",
  "Nice try üòè",
  "Just click YES already üíï"
];
let ti=0;

function moveNo(){
  noBtn.style.transform =
    `translate(${Math.random()*300-150}px,${Math.random()*100-50}px)`;
  msg.textContent = texts[ti++ % texts.length];
}
noBtn.addEventListener("mouseenter",moveNo);
noBtn.addEventListener("click",moveNo);

/* =======================
   üéÜ FIREWORKS
   ======================= */
const canvas=document.getElementById("fireworks");
const ctx=canvas.getContext("2d");
canvas.width=innerWidth;
canvas.height=innerHeight;

let rockets=[], particles=[];
let boomCounter=0;

yesBtn.addEventListener("click",()=>{
  if(started) return;
  started=true;

  msg.textContent="";
  final.style.display="block";
  startMusic();
  setInterval(launchRocket,900);
});

function launchRocket(){
  rockets.push({
    x:Math.random()*canvas.width,
    y:canvas.height,
    speed:Math.random()*4+6,
    color:`hsl(${Math.random()*360},100%,60%)`
  });
}

function explodeHeart(x,y,color){
  boomCounter++;
  if(boomCounter % 3 === 0) firecrackerSound();

  for(let t=0;t<Math.PI*2;t+=0.2){
    const r = 16*(Math.sin(t)**3);
    const px = r*Math.cos(t);
    const py = -(
      13*Math.cos(t)
      -5*Math.cos(2*t)
      -2*Math.cos(3*t)
      -Math.cos(4*t)
    );
    particles.push({
      x:x+px*3,
      y:y+py*3,
      vx:px*0.15,
      vy:py*0.15,
      l:120,
      c:color
    });
  }
}

function animate(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  rockets.forEach((r,i)=>{
    r.y-=r.speed;
    ctx.fillStyle=r.color;
    ctx.beginPath();
    ctx.arc(r.x,r.y,4,0,Math.PI*2);
    ctx.fill();

    if(r.y<canvas.height*0.3){
      explodeHeart(r.x,r.y,r.color);
      rockets.splice(i,1);
    }
  });

  particles.forEach((p,i)=>{
    p.x+=p.vx;
    p.y+=p.vy;
    p.l--;
    ctx.fillStyle=p.c;
    ctx.fillRect(p.x,p.y,3,3);
    if(p.l<=0)particles.splice(i,1);
  });

  requestAnimationFrame(animate);
}
animate();

onresize=()=>{
  canvas.width=innerWidth;
  canvas.height=innerHeight;
};
</script>

</body>
</html>
